<app-navbar></app-navbar>
<div class="container m-5">
    <div class="earning m-5">
        <strong>Total Earnings: ${{ earnings }}</strong>
    </div>
    <div class="d-grid marketplace-grid mb-5">
        <div class="card market-card" *ngFor="let product of productLists">
            <img class="card-img-top" [src]="product.image | base64ToImage: 'jpeg'" alt="Card image cap">
            <div class="card-body">
              <h5 class="card-title">{{product.product_name}}</h5>
              <p class="card-text">{{ product.product_details }}</p>
            </div>
            <div class="card-footer">
              <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#mobileModal" (click)="getMobileNumber(product.id)"><strong>${{ product.product_price }}</strong> Buy Now</button>
            </div>
        </div>
    </div>
</div>

<app-chatbot></app-chatbot>

<div class="modal fade" id="mobileModal" tabindex="-1" aria-labelledby="mobileModalLabel" aria-hidden="true">
<div class="modal-dialog">
    <div class="modal-content">
    <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <div class="modal-body">
        <p>Call This Number Now <strong>{{mobileNumber}}</strong></p>
        <em>Posted by <strong>{{userDetails}}</strong></em>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
    </div>
    </div>
</div>
</div>

<app-footer></app-footer>